/*
Copyright (c) CC BY-NC-ND 3.0 http://creativecommons.org/licenses/by-nc-nd/3.0/
Validates a form, based on the html classes of the inputfields
Ylab, http://www.ylab.nl
*/
var oJQueryValidate={sErrorClassInput:"error",sErrorClasslabel:"error",sLanguage:$("html").attr("lang"),rules:{},errormessages:{en:{after:"De date '{0}' must be after {2}.",before:"De date '{0}' must be before {2}.",bsn:"The field '{0}' contains an invalid citizen service number (BSN).",eleven:"The field '{0}' contains an invalid account number.",date:"The field '{0}' contains an invalid date.\nUse the dd-mm-yyyy format to enter a date.",email:"The email address is invalid.",emails:"One or more email addresses are invalid.",
invalid:"The field '{0}' is invalid.",later:"The field '{0}' has to have a date after {2}.",maxlen:"The field '{0}' may consist of {2} characters at most.",maxval:"The field '{0}' has to be smaller than or be equal to {2}.",minlen:"The field '{0}' has to consist of minimal {2} characters.",minval:"The field '{0}' has to be larger than {2}.",phone:"The phone number is invalid.\nEnter a ten digit phone number.",password:"A password must have at least 6 characters.\nA safe password has at least 8 characters and contains a combination of letters, digits and symbols.",
required:"The field '{0}' is required.",time:"The field '{0}' contains an invalid time.\nUse the hh:mm format to enter a time.",unique:"The field '{0}' must contain a unique value.\nThe value \"{1}\" is in use already.",url:"The field '{0}' contains an invalid internet address."}},tests:{required:function(a){return!!a.val().trim()},after:function(a,c){var b=a.val().trim();"function"==typeof c&&(c=c());c=c.toDate();return!b||!c||b.toDate()>c},before:function(a,c){var b=a.val().trim();"function"==typeof c&&
(c=c());c=c.toDate();return!b||!c||b.toDate()<c},bsn:function(a){var c=a.val().trim(),b=c.replace(/\D/g,"").trim(),f=0,d=b.length;for(a=0;a<d-1;a++)f+=b.charAt(a)*(d-a);return!c||9==d&&0==(f-b.charAt(d-1))%11},date:function(a){a=a.val().trim();return!a||!!a.toDate()},email:function(a){a=a.val().trim();return!a||!/[<>";, ]/.test(a)&&RegExp("^[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&'*+\\/0-9=?A-Z^_`a-z{|}~]+.[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+$").test(a)},emails:function(a){var c,b=a.val().trim();
if(!b)return!0;var f=b.split(/[,;\s]+/),d=!0;for(c=0;c<f.length;c++)b=f[c],d=d&&!/[<>";, ]/.test(b)&&RegExp("^[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&'*+\\/0-9=?A-Z^_`a-z{|}~]+.[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+$").test(b);d&&a.val(f.join(", "));return d},maxlen:function(a,c){var b=a.val().trim();return!b||b.length<=+c[0]},minlen:function(a,c){var b=a.val().trim();return!b||b.length>=+c[0]},maxval:function(a,c){var b=a.val().trim();return isNaN(c[0])?!b||b<=c[0]:!b||+b<=+c[0]},minval:function(a,
c){var b=a.val().trim();return isNaN(c[0])?!b||b>=c[0]:!b||+b>=+c[0]},password:function(a){return!a.val().trim()||1<a.val().strength()},phone:function(a){a=a.val().trim();var c=a.replace(/\D/g,"").trim();return!a||10==c.length},time:function(a){a=a.val().trim();return!a||!!a.toTime()},unique:function(a,c,b){var f,d={};d[a[0].name]=a.val().trim();if(!d[a[0].name])return!0;c.each(function(){d[this.name]=this.value});jQuery.ajaxSetup({cache:!1,async:!1});jQuery.getJSON(b,d,function(a){f=a.isUnique});
return f},url:function(a){a=a.val().trim();return!a||/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(a)},eleven:function(a){var c=a.val().trim(),b=c.replace(/\D/g,"").trim(),f=0,d=b.length;for(a=0;a<d;a++)f+=b.charAt(a)*(d-a);return!c||9>d||0==f%11}},alert:null,ready:null};
(function(a){jQuery.fn.validate=function(c){if(1<this.length)return this.each(function(){a(this).validate(c)}),this;if(this.data("validate"))return this.data("validate",a.extend(!0,this.data("validate"),c||{}));var b=a.extend(!0,oJQueryValidate,c||{});return this.data("validate",b).submit(function(c){var d=!0,n=!0,j,g,k,h,e,l,m,p=a(":input",this).not("[type=hidden]");for(j=0;j<p.length;j++){oField=p[j];k=a(oField);h=oField.className.split(" ");e=!1;b.rules[oField.id]?e=oField.id:b.rules[oField.name]&&
(e=oField.name);if(e){switch(typeof b.rules[e]){case "string":e=b.rules[e].split(" ");break;case "array":e=b.rules[e];break;default:e=[b.rules[e]]}a.extend(h,e)}for(g=0;g<h.length;g++)if("string"==typeof h[g]?(l=h[g].split("-"),e=l.shift(),m=""):"object"==typeof h[g]?(e=h[g].command&&"string"==typeof h[g].command?h[g].command:null,l=h[g].parameters||{},m=h[g].url||""):e=!1,e&&(b.tests[e]&&"function"==typeof b.tests[e])&&(d=b.tests[e](k,l,m),!d))return c.preventDefault(),k.addClass(b.sErrorClassInput).trigger("focus"),
j=a('label[for="'+k.attr("id")+'"]',this).addClass(b.sErrorClasslabel),c=j.text(),"function"==typeof b.alert&&(n=!1!==b.alert(k)),n&&(b.errormessages[b.sLanguage][e]?alert(b.errormessages[b.sLanguage][e].populate(c,k.val(),l)):alert(b.errormessages[b.sLanguage].invalid.populate(c))),j.removeClass(b.sErrorClasslabel),k.removeClass(b.sErrorClassInput),!1}return"function"==typeof b.ready&&!1===b.ready()?(c.preventDefault(),!1):!0})}})(jQuery);
String.prototype.strength=function(){if(!this)return!1;if(6>this.length)return 1;var a=Math.floor(this.length/6+function(a){var b,f=0,d=[/[A-Z]/,/[a-z]/,/\d/,/\W/];for(b=0;b<d.length;b++)d[b].test(a)&&f++;return f}(this));return Math.min(a,5)};